---
title: "Module 2: Data Visulization in R"
subtitle: "An introduction"
author: 
  - "Fabio CRUZ"
  - "Giovanny Arbelaez"
  - "Mauricio Camargo"
institute: "ERPI"
date: "`r format(Sys.Date(), '%B %e, %Y')`"
#output: powerpoint_presentation
output:
  xaringan::moon_reader:
    css: ["default", "css/my-theme.css", "css/my-fonts.css"]
    #css: ["assets/xaringan-themer.css"]
    seal: TRUE
    nature:
      slideNumberFormat: "%current%/%total%" 
      highlightStyle: solarized-light
      highlightLanguage: ["r", "css", "yaml"]      
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: true
      navigation:
        scroll: false # disable slide transitions by scrolling
always_allow_html: true
---

```{r packages, echo = FALSE, message=FALSE, warning=FALSE}
# Source
#source("xaringan-themer.R")

# load packages ----------------------------------------------------------------
library(tidyverse)
library(xaringanExtra)
library(xaringanthemer)
library(fontawesome)
library(here)
library(countdown)
library(ymlthis)
library(tidyverse)
library(ggthemes)
library(icons) # remotes::install_github("mitchelloharawild/icons")
library(icon)
library(emoji)
library(palmerpenguins)
library(fontawesome)

options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(fig.path = 'assets/chunks/02/', cache.path = "assets/cache/02/", 
                      collapse = TRUE,
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  fig.align = 'center',
  cache = FALSE,
  echo = FALSE,
  message = FALSE, 
  warning = FALSE,
  fig.show = TRUE,
  hiline = TRUE,
  include = TRUE
)

# Link for the Figures
URL = c('https://raw.githubusercontent.com/fabbiocrux/Figures/main/')

#library(xaringanBuilder)
#build_pdf("index.Rmd")

# xaringanExtra
xaringanExtra::use_panelset()

#xaringanExtra::use_share_again()
xaringanExtra::use_tachyons()
xaringanExtra::use_tile_view()
xaringanExtra::use_webcam()
xaringanExtra::use_fit_screen()
xaringanExtra::use_extra_styles(hover_code_line = TRUE, mute_unhighlighted_code = TRUE)
xaringanExtra::use_share_again()
xaringanExtra::use_panelset()
```



# Modules:

1. [Basics of R & RStudio](#module1)

1. .bg-yellow[[Data Visualisation using ggplot2](#module3)]

1. [Data Wrangling using dplyr](#module4)




---

name: module3

class: title-slide, center, middle, hide-count, hide-logo

background-image: url("https://images.unsplash.com/photo-1617164924207-40e6ee7c3ffe?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740&q=80")
background-size: cover

# .white.big-text[Data Visualisation]
## .white[Session - 3]

.footnote[
.white[Image credits:][Kayvan Mazhar](https://unsplash.com/photos/SfxhjdST3Qs)
]

---


class: center

# Course Progress

```{r echo=FALSE, out.width="100%"}
knitr::include_graphics("images/data-science-communicate.png")
```

---

class: left, middle, hide-count, hide-logo

background-image: url("images/not_normal.png")
background-size: 70%
background-position: right

# .big-text[Data]

.footnote[
[Artwork Source](https://www.allisonhorst.com/)
]

---


class: hide-logo

background-image: url("images/culmen_depth.png")
background-size: 25%
background-position: 95% 5%

# Data of Palmer Penguins

- It comes with R package `palmerpenguins`

--

- Name of the data is `penguins`

--

- To know more about the data `?penguins`

--

- Included variables are:
  - `r names(penguins)`


.footnote[
[Artwork Source](https://www.allisonhorst.com/)

[Package](https://allisonhorst.github.io/palmerpenguins/)
]


---

# An Overview of Data

.panelset[

.panel[.panel-name[Codes]

```{r glimp, eval=FALSE, echo=TRUE}
glimpse(penguins) #<<
```

]

.panel[.panel-name[Output]

```{r ref.label="glimp", echo=FALSE}
```

]
]

---

### An Overview of Data

.panelset[

.panel[.panel-name[Codes]

```{r summ, eval=FALSE, echo=TRUE}
summary(penguins) #<<
```

]

.panel[.panel-name[Output]

```{r ref.label="summ", echo=FALSE}
```

]
]


---

# Packages required: 

```{r pkgs, eval=FALSE, echo=TRUE}
library(palmerpenguins) # to access penguin data
library(tidyverse) # to use ggplot2 pkg
```

- Packages recommended:

```{r more-pkgs, eval=FALSE, echo=TRUE}
install.packages(c(
  "directlabels", "dplyr", "gameofthrones", "ggforce", "gghighlight", 
  "ggnewscale", "ggplot2", "ggraph", "ggrepel", "ggtext", "ggthemes", 
  "hexbin", "mapproj", "maps", "munsell", "ozmaps", "paletteer", 
  "patchwork", "rmapshaper", "scico", "seriation", "sf", "stars", 
  "tidygraph", "tidyr", "wesanderson" 
))
```

---

---

---

---

---


---


---

.panelset[

.panel[.panel-name[Task]

```{r layer3, echo=FALSE, out.width="45%"}
knitr::include_graphics("images/layer3.png")
```

]

.panel[.panel-name[Codes]

```{r geom-bar, eval=FALSE, echo=TRUE}
ggplot(data = penguins, mapping = aes(x = species)) +
  geom_bar() #<<
```

]

.panel[.panel-name[Output]

```{r ref.label="geom-bar", echo=FALSE}
```

]
]

---

.panelset[

.panel[.panel-name[Codes]

```{r geom-bar-pro, eval=FALSE, echo=TRUE}
ggplot(penguins, aes(x = species)) +
  geom_bar() 
```

]

.panel[.panel-name[Output]

```{r ref.label="geom-bar-pro", echo=FALSE}
```

]
]

---

class: your-turn, hide-logo

# `r emo::ji("brain")` YOUR TURN

```{r echo=FALSE}
countdown(minutes = 5, top = 0, font_size = "3em")
```

.panelset[

.panel[.panel-name[Output]

```{r ref.label="yt11", echo=FALSE, out.width="38%"}
```

]

.panel[.panel-name[Codes]

```{r yt11, eval=FALSE, echo=TRUE}
ggplot(data = penguins, mapping = aes(x = island)) +
  geom_bar() 
```

]
]

---

class: center, middle

# How to export plot to your computer?

---

---


---


---


---


---


---

class: center, middle

# How to plot two numeric variables?

---

.panelset[

.panel[.panel-name[Codes]

```{r num, eval=FALSE, echo=TRUE}
ggplot(data = penguins,
       mapping = aes(x = bill_length_mm,
                     y = bill_depth_mm,
                     color = species)) +
  geom_point() +
  scale_fill_brewer(palette = "Dark2") +
  theme(legend.position = "none",
        text = element_text(size = 20)) + #<<
  labs(
    title = "Relationship between bill length \n& depth of palmer penguins",
    subtitle = "This data is about penguins",
    x = "Bill length (mm)",
    y = "Bith depth (mm)"
  )

```

]

.panel[.panel-name[Output]

```{r ref.label="num", echo=FALSE, warning=FALSE}

```

]
]

---

---

class: center, middle

# How to add regression line to ggplot?

---

.panelset[

.panel[.panel-name[Codes]

```{r reg, eval=FALSE, echo=TRUE}
ggplot(data = penguins,
       mapping = aes(x = flipper_length_mm,
                     y = body_mass_g)) +
  geom_point() +
  theme(legend.position = "none",
        text = element_text(size = 24)) + 
  labs(
    title = "Relationship between bill length \n& depth of palmer penguins",
    subtitle = "This data is about penguins",
    x = "Flipper length (mm)",
    y = "Body mass (gm)"
  ) +
  theme_classic() +
  geom_smooth() #<<

```

]

.panel[.panel-name[Output]

```{r ref.label="reg", echo=FALSE, warning=FALSE, message=FALSE}

```

]
]

---

class: center middle hide-count

#  `r emo::ji("woman_raising_hand_medium_skin_tone")``r emo::ji("man_raising_hand")`<br>.big-text[Q&A]

---
